webpackJsonp([6],{"./actions/AddRatingAndReviewActions.js":function(e,t,a){"use strict";function r(){return{type:l}}function n(e){return{type:u,data:e}}function i(e){return{type:d,error:e}}function s(e){return function(t){return t(r()),o.a.post(Object.assign({},c.a,{pathname:"/api/3/reviews/product",credentials:"include",acceptErrors:!0}),e).then(function(e){return t(n(e.RESPONSE))},function(e){return t(i(e)),Promise.reject(e.RESPONSE||e)})}}t.a=s;var o=a("./actions/ApiCaller.ts"),c=a("./actions/BaseAjaxConfig.ts"),l="ADD_PRODUCT_RATING_REVIEW_REQUEST",u="ADD_PRODUCT_RATING_REVIEW_SUCCESS",d="ADD_PRODUCT_RATING_REVIEW_ERROR"},"./components/AspectRatingWidget/AspectRatingWidget.css":function(e,t){e.exports={"aspect-rating":"_1nl9s1","aspect-rating-class":"R3upVV","aspect-rating-svg":"_1jHJkZ",trail:"nNeArc","progress-green":"yAaxjK","progress-orange":"_2UwRUl","progress-red":"_3F7hhu",text:"PRNS4f",title:"_3wUVEm"}},"./components/AspectRatingWidget/AspectRatingWidget.js":function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.d(t,"a",function(){return g});var s=a("./node_modules/react/react.js"),o=a.n(s),c=a("./utils/safeTraverse.ts"),l=a("./utils/FDPHelper.js"),u=a("./components/AspectRatingWidget/AspectRatingWidget.css"),d=a.n(u),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),v=[d.a["progress-red"],d.a["progress-red"],d.a["progress-orange"],d.a["progress-green"],d.a["progress-green"],d.a["progress-green"]],g=function(e){function t(){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.aspect,r=e.position,n=e.sendFDPEvent,i=e.pid;n&&l.a.trackEvent({iid:a.i(c.a)(t,["tracking","impressionId"]),an:a.i(c.a)(t,["value","name"]),pid:i,aid:a.i(c.a)(t,["value","id"]),ar:a.i(c.a)(t,["value","average"]),p:r,en:"ASRI"})}},{key:"getPath",value:function(e,t,a,r){var n=void 0,i=r/2,s=360/t*e,o=s*Math.PI/180,c=a+i+a*Math.sin(o),l=a+i-a*Math.cos(o),u=void 0;return t===e?u="M"+(a+i)+","+i+" A "+a+","+a+",0,1,1,"+(a+i-1e-4)+","+i:(n=s>180?1:0,u="M"+(a+i)+","+i+" A "+a+","+a+",0,"+n+",1,"+c+","+l),u}},{key:"render",value:function(){var e=this.props.aspect,t=a.i(c.a)(e,["value","average"])||a.i(c.a)(e,["averageRating"]),r=a.i(c.a)(e,["value","base"])||5;if("number"!=typeof t)return null;var n=Math.round(10*t)/10,i=v[Math.floor(n)];return o.a.createElement("div",{className:d.a["aspect-rating"]},o.a.createElement("div",{className:d.a["aspect-rating-class"]},o.a.createElement("svg",{className:d.a["aspect-rating-svg"],viewBox:"0 0 100 100"},o.a.createElement("path",{className:d.a.trail,d:this.getPath(r,r,46,8),strokeWidth:8,fillOpacity:0}),t&&o.a.createElement("path",{className:i,d:this.getPath(n,r,46,8),strokeWidth:8,fillOpacity:0}),o.a.createElement("text",{className:d.a.text,x:50,y:50},n.toFixed(1)))),o.a.createElement("div",{className:d.a.title},a.i(c.a)(e,["value","name"])))}}]),t}(s.Component)},"./components/FiveStarWidget/FiveStarWidget.css":function(e,t){e.exports={"yellow-star":"wvjgRW","grey-star":"_3Hc5hn",rating:"kcuK2o",tooltip:"_14Na-3",star:"_2tZufY",ratingText:"_1Dk1bd",ratingText0:"XfETOX",ratingText1:"LV79LE",ratingText2:"sHUoTq",ratingText3:"_1jV6JI",ratingText4:"_3IFYIT"}},"./components/FiveStarWidget/FiveStarWidget.js":function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=a("./node_modules/react/react.js"),c=a.n(o),l=a("./node_modules/react-redux/es/index.js"),u=a("./node_modules/classnames/index.js"),d=a.n(u),p=a("./components/Tooltip/index.js"),v=a("./strings.json"),g=a.n(v),m=a("./actions/tooltipActions.js"),f=a("./components/FiveStarWidget/FiveStarWidget.css"),h=a.n(f),w=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),y=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleRatingClick=function(e){return function(){var t=a.props.starCount-e;a.setState({selectedRating:t}),a.props.sendRating&&a.props.rateClicked(t),a.props.addRating&&a.props.addRatingClicked(t,a.props.pid)}},a.handleMouseOut=function(e){var t=a.props.hideTooltip;"function"==typeof t&&t(e)},a.state={selectedRating:e.selectedRating},a}return s(t,e),w(t,[{key:"getTootipData",value:function(e){switch(e){case 0:return g.a.excellent;case 1:return g.a.veryGood;case 2:return g.a.good;case 3:return g.a.bad;case 4:return g.a.veryBad;default:return""}}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.starCount;t++){var a,n=d()(h.a.star,(a={},r(a,h.a["yellow-star"],t>this.props.starCount-1-this.state.selectedRating),r(a,h.a["grey-star"],t<this.props.starCount-this.state.selectedRating),a));e.push(c.a.createElement("span",{id:"star-"+t+"-"+this.props.id,onClick:this.handleRatingClick(t),className:n,key:t},"★",c.a.createElement(p.a,{className:h.a.tooltip,anchor:"#star-"+t+"-"+this.props.id,position:"top",hoverInTimeout:0,hoverOutTimeout:0},this.getTootipData(t))))}var i=void 0;return this.state.selectedRating&&(i=this.props.starCount-parseInt(this.state.selectedRating,10)),c.a.createElement("div",null,c.a.createElement("div",{className:h.a.rating,onMouseOut:this.handleMouseOut},e),i>=0&&i<=4&&!this.props.addRating&&c.a.createElement("span",{className:d()(h.a.ratingText,h.a["ratingText"+i])},this.getTootipData(i)))}}]),t}(o.Component),b=function(e){return{hideTooltip:m.d}};t.a=a.i(l.connect)(null,b)(y)},"./components/FiveStarWidget/index.js":function(e,t,a){"use strict";var r=a("./components/FiveStarWidget/FiveStarWidget.js");t.a=r.a},"./components/MinimalProductInfo/MinimalProductInfo.css":function(e,t){e.exports={"product-info":"_3wBtPi",name:"Sw6kZ2","rating-widget":"mBjPf6","image-container":"_2sxWXr",image:"hoZMHD"}},"./components/MinimalProductInfo/MinimalProductInfo.js":function(e,t,a){"use strict";var r=a("./node_modules/react/react.js"),n=a.n(r),i=a("./node_modules/react-router/es/index.js"),s=a("./components/ProductRatingWidget/ProductRatingWidget.js"),o=a("./utils/getImageUrl.js"),c=a("./components/MinimalProductInfo/MinimalProductInfo.css"),l=a.n(c),u=function(e){var t=e.rating,r=e.image,c=e.title,u=e.productUrl,d=a.i(o.a)(r,48);return n.a.createElement(i.Link,{to:u||""},n.a.createElement("div",{className:l.a["product-info"]},n.a.createElement("div",{className:l.a.name},n.a.createElement("span",null,c)),n.a.createElement("div",{className:l.a["rating-widget"]},n.a.createElement(s.a,{product:{value:{rating:t}},view:"minimal"}))),n.a.createElement("div",{className:l.a["image-container"]},n.a.createElement("img",{src:d,className:l.a.image})))};u.propTypes={image:r.PropTypes.string.isRequired,rating:r.PropTypes.object.isRequired,title:r.PropTypes.string.isRequired},t.a=u},"./components/ReviewsSortUnit/ReviewsSortUnit.css":function(e,t){e.exports={outerContainer:"H6JLlu",sortOption:"_3MuAT6",selected:"_25FbMV"}},"./components/ReviewsSortUnit/ReviewsSortUnit.js":function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=a("./node_modules/react/react.js"),c=a.n(o),l=a("./node_modules/classnames/index.js"),u=a.n(l),d=a("./components/ReviewsSortUnit/ReviewsSortUnit.css"),p=a.n(d),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),g=function(e){function t(){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),v(t,[{key:"render",value:function(){return c.a.createElement("div",{className:u()(p.a.outerContainer),onClick:this.props.onClick},c.a.createElement("div",{className:u()(p.a.sortOption,r({},p.a.selected,this.props.selected))},this.props.sortOption," ",this.props.showCount&&c.a.createElement("span",null,"(",this.props.count,")")))}}]),t}(o.Component);t.a=g},"./components/ReviewsSortUnit/index.js":function(e,t,a){"use strict";var r=a("./components/ReviewsSortUnit/ReviewsSortUnit.js");t.a=r.a},"./components/ReviewsWidget/index.js":function(e,t,a){"use strict";var r=a("./components/ReviewsWidget/ReviewsWidget.js");t.a=r.a},"./components/SimpleProductHeader/SimpleProductHeader.css":function(e,t){e.exports={"header-card":"_1Z9vji",title:"NWW_bH",arrow:"lVlJHX","product-info":"_2tw077"}},"./components/SimpleProductHeader/SimpleProductHeader.js":function(e,t,a){"use strict";var r=a("./node_modules/react/react.js"),n=a.n(r),i=a("./node_modules/react-router/es/index.js"),s=a("./components/MinimalProductInfo/MinimalProductInfo.js"),o=a("./components/Icons/Icons.tsx"),c=a("./components/SimpleProductHeader/SimpleProductHeader.css"),l=a.n(c),u=function(e){var t=function(t){e.router.goBack()};return n.a.createElement("div",{className:l.a["header-card"]},e.showBackBtn&&n.a.createElement("a",{href:"javascript:void(0)",onClick:t,className:l.a.arrow},a.i(o.v)()),n.a.createElement("div",{className:l.a.title},n.a.createElement("span",null,e.headerCaption)),n.a.createElement("div",{className:l.a["product-info"]},n.a.createElement(s.a,e)))};u.defaultProps={showBackBtn:!1},u.propTypes={title:r.PropTypes.string.isRequired,rating:r.PropTypes.object.isRequired,productUrl:r.PropTypes.string.isRequired,image:r.PropTypes.string.isRequired,headerCaption:r.PropTypes.string.isRequired,showBackBtn:r.PropTypes.bool},t.a=a.i(i.withRouter)(u)},"./pages/AddRatingAndReviewPage/AddRatingAndReviewPage.css":function(e,t){e.exports={"review-rating-content":"_2vvRAH","loader-container":"_269OP5","error-container":"_39G8Ox","not-allowed-container":"_3KMsCk",overlay:"_2z2sqF","overlay-loader":"_3fX1k7"}},"./pages/AddRatingAndReviewPage/AddRatingAndReviewPage.js":function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var a=t.location.query.pid,r=t.location.query.rating;return{productSummary:e.productSummary[a],reviewData:e.reviewPageData,userState:e.userState,productId:a,rating:r}}function o(e){return a.i(d.bindActionCreators)({AddProductRatingAndReview:C.a,fetchReviewData:k.d,fetchProductSummary:x.d,postProductRating:j.d},e)}Object.defineProperty(t,"__esModule",{value:!0});var c=a("./node_modules/react/react.js"),l=a.n(c),u=a("./node_modules/react-redux/es/index.js"),d=a("./node_modules/redux/es/index.js"),p=a("./node_modules/react-router/es/index.js"),v=a("./strings.json"),g=a.n(v),m=a("./components/Common/Loader/Loader.tsx"),f=a("./utils/asyncStatusHelper.ts"),h=a("./components/SimpleProductHeader/SimpleProductHeader.js"),w=a("./components/Toast/Toast.tsx"),y=a("./components/Error/Error.js"),b=a("./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.js"),R=a("./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.js"),E=a("./components/Title/Title.js"),_=a("./toasts.json"),P=a.n(_),C=a("./actions/AddRatingAndReviewActions.js"),j=a("./actions/reviewsConfirmationPageActions.js"),x=a("./actions/productSummaryActions.js"),k=a("./actions/reviewPageActions.js"),S=a("./utils/omnitureHelper.js"),A=a("./utils/safeTraverse.ts"),N=a("./utils/FDPHelper.js"),T=a("./node_modules/fk-cp-perf-beacon/index.js"),O=a.n(T),D=a("./pages/AddRatingAndReviewPage/AddRatingAndReviewPage.css"),W=a.n(D),I=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),H=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={overlay:!1,ratingStatus:"",reviewData:null},a.submit=a.submit.bind(a),a.postRating=a.postRating.bind(a),a}return i(t,e),I(t,[{key:"componentDidMount",value:function(){O()({prefix:"des",sampleRate:.2});var e=this.props.productId;this.props.fetchReviewData(e),this.props.productSummary||this.props.fetchProductSummary([{productId:e}])}},{key:"postRating",value:function(e){var t=this,r=a.i(A.a)(this.props,["location","query","source"]);this.props.postProductRating(this.props.productId,e,r).then(function(e){t.setState({ratingStatus:"SUCCESS"});var r=t.props.productSummary;if(r){var n=[],i={},s=a.i(A.a)(r,["value","id"]),o=a.i(A.a)(r,["value","rating","count"]);i.eVar16=i.prop16=a.i(A.a)(r,["value","analyticsData","superCategory"]),i.eVar17=i.prop17=a.i(A.a)(r,["value","analyticsData","subCategory"]),i.eVar19=i.prop19=a.i(A.a)(r,["value","analyticsData","vertical"]),i.products=";"+s+";;;;eVar22="+a.i(A.a)(r,["value","analyticsData","superCategory"])+"| eVar19="+i.eVar19,0===o&&n.push("event50"),n.push("event34"),i.events=n.join(","),S.a.trackLink(i,"Rating added")}},function(e){return t.setState({ratingStatus:"ERROR"}),Promise.reject(e)})}},{key:"componentWillReceiveProps",value:function(e){this.sendToAnalytics(e)}},{key:"sendToAnalytics",value:function(e){var t=e.productSummary,r=e.location,n=e.userState;if(a.i(f.g)(t)&&!this.isAnalyticsSend){var i="Write Review: "+a.i(A.a)(t,["value","titles","title"]);N.a.setNavigationContext({pn:"Write Review",pt:i}),N.a.trackPageView();var s=[],o={};o.eVar16=o.prop16=a.i(A.a)(t,["value","analyticsData","superCategory"]),o.eVar17=o.prop17=a.i(A.a)(t,["value","analyticsData","subCategory"]),o.eVar19=o.prop19=a.i(A.a)(t,["value","analyticsData","vertical"]),o.products=";"+a.i(A.a)(t,["value","id"])+";;;;eVar22="+a.i(A.a)(t,["value","analyticsData","category"])+"|eVar19="+o.eVar19,s.push("event1");var c=Object.assign({},S.a.getBaseOmnitureFields({pageName:"Write Review",pageType:i,location:r,userState:n}),o,{events:s.join(",")});S.a.trackOmniturePageView(c),this.isAnalyticsSend=!0}}},{key:"submit",value:function(e){var t=this,r=this.props.userState,n=r.firstName,i=r.lastName,s=n||i?n+" "+i:e.author,o=a.i(A.a)(this.props,["location","query","source"]),c={title:e.title,rating:e.rating,text:e.description,productId:this.props.productId,isCompleted:!0,author:s,source:o},l=this.props.productSummary;this.setState({showOverlay:!0}),this.props.AddProductRatingAndReview(c).then(function(e){var r=[],n={},i=a.i(A.a)(l,["value","id"]),s=a.i(A.a)(l,["value","rating","reviewCount"]);n.prop16=a.i(A.a)(l,["value","analyticsData","superCategory"]),n.prop17=a.i(A.a)(l,["value","analyticsData","subCategory"]),n.prop19=n.eVar19=a.i(A.a)(l,["value","analyticsData","vertical"]),n.products=";"+i+";;;;eVar22="+a.i(A.a)(l,["value","analyticsData","superCategory"])+"| eVar19="+n.eVar19,r.push("event33"),0===s&&r.push("event51"),n.prop47="Write Review Page",n.events=r.join(","),S.a.trackLink(n,"Review Submitted"),t.setState({showOverlay:!1}),t.props.toast.show(P.a.reviewConfirmationToast),t.props.router.push(a.i(A.a)(e,["data","url"]))},function(e){t.setState({showOverlay:!1}),t.props.toast.show({message:e.message||e.ERROR_MESSAGE,level:"ERROR"})})}},{key:"render",value:function(){var e=this.props,t=e.productSummary,r=e.userState,n=e.reviewData,i=e.rating,s=a.i(A.a)(n,["isCertifiedBuyer"])||!1;if(a.i(f.g)(t)&&a.i(f.g)(n)){var o=t.value;return l.a.createElement("div",{className:W.a["review-rating-content"]},l.a.createElement(E.a,{title:g.a.homePageTitle,overrideServerTitle:!0}),o&&l.a.createElement(h.a,{headerCaption:g.a.ratingAndReview,image:a.i(A.a)(o,["media","images",0,"url"]),title:a.i(A.a)(o,["titles","title"]),rating:a.i(A.a)(o,["rating"]),productUrl:a.i(A.a)(o,["baseUrl"])}),l.a.createElement(b.a,null),s&&l.a.createElement(R.a,{submitHandler:this.submit,hasAuthorName:!(!r.firstName&&!r.lastName),postRatingHandler:this.postRating,ratingStatus:this.state.ratingStatus,reviewData:n,rating:i}),!s&&l.a.createElement("div",{className:W.a["not-allowed-container"]},l.a.createElement(y.a,{errorType:"error404",title:"",subtitle:g.a.reviewNotAllowed})),this.state.showOverlay&&l.a.createElement("div",{className:W.a.overlay},l.a.createElement(m.a,{className:W.a["overlay-loader"]})))}return a.i(f.f)(t)||a.i(f.f)(n)?l.a.createElement("div",{className:W.a["error-container"]},l.a.createElement(y.a,null)):l.a.createElement("div",{className:W.a["loader-container"]},l.a.createElement(m.a,null))}}]),t}(c.Component),F=a.i(u.connect)(s,o)(H);t.default=a.i(w.a)(a.i(p.withRouter)(F))},"./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.css":function(e,t){e.exports={"rating-review-card":"_2rfo2u","submit-btn":"_3oe6G6","review-card":"_3zS_0H","rating-card":"_3AwHsn",caption:"_1O_Sj9","rating-status":"_3lM63h",error:"Huglld",success:"_1tudS1","rating-widget":"Kj7FZF","review-content":"_2ynvot","text-box":"_1b7zWX","description-box":"_2Vq_k8",label:"_1huZCe",control:"_2lNh_V","h-border":"_2qU1N7","move-right":"_1v1y1A"}},"./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.js":function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,c,l,u=a("./node_modules/react/react.js"),d=a.n(u),p=a("./node_modules/react-redux/es/index.js"),v=a("./components/FiveStarWidget/FiveStarWidget.js"),g=a("./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.js"),m=a("./components/StringWidget/StringWidget.js"),f=a("./strings.json"),h=a.n(f),w=a("./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.css"),y=a.n(w),b=a("./utils/asyncStatusHelper.ts"),R=a("./utils/validators.js"),E=a("./node_modules/classnames/index.js"),_=a.n(E),P=a("./utils/safeTraverse.ts"),C=a("./actions/reviewPageTitleActions.js"),j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},x=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),k=60,S=5e3,A=5,N=(c=o=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));l.call(r);var s=a.i(P.a)(e.reviewData,["title"])||"",o=a.i(P.a)(e.reviewData,["text"])||"",c=a.i(P.a)(e.reviewData,["author"])||"",u=e.rating&&e.rating<=A?e.rating:a.i(P.a)(e.reviewData,["rating"])||"";return r.state={controls:{title:{value:s,valid:!0},description:{value:o,valid:!0},author:{value:c,valid:!0},rating:{value:u,valid:!0}}},r.validators={title:function(e){return{valid:a.i(R.g)(e,k),message:h.a.reviewTitleMax,value:e.substring(0,k)}},description:function(e){var t={valid:a.i(R.i)(e),message:h.a.reviewDescriptionEmpty};return t.valid&&(t={valid:a.i(R.g)(e,S),message:h.a.reviewDescriptionMax,value:e.substring(0,S)}),t},rating:function(e){return{valid:a.i(R.i)(e),message:h.a.reviewRatingEmpty}},author:function(e){return{valid:!0}}},r.setRating=r.setRating.bind(r),r.submitHandler=r.submitHandler.bind(r),r.titleChangeHandler=r.onChangeHandler("title").bind(r),r.descriptionChangeHandler=r.onChangeHandler("description").bind(r),r.authorChangeHandler=r.onChangeHandler("author").bind(r),r}return s(t,e),x(t,[{key:"onChangeHandler",value:function(e){var t=this;return function(a){var n=t.validators[e],i=void 0;return"function"==typeof n&&(i=t.validators[e](a),t.setState({controls:j({},t.state.controls,r({},e,j({value:a},i)))})),i}}},{key:"setRating",value:function(e){this.setState({controls:j({},this.state.controls,{rating:{valid:!0,value:e}})}),this.props.postRatingHandler(e)}},{key:"submitHandler",value:function(){var e=this,t=this.state.controls,a=t.title,n=t.description,i=t.author,s=t.rating,o=Object.keys(this.state.controls).reduce(function(t,a){var n,i=e.validators[a]?e.validators[a](e.state.controls[a].value):{valid:!0};return j({},t,(n={},r(n,a,j({},e.state.controls[a],i)),r(n,"valid",t.valid&&i.valid),n))},{valid:!0});this.setState({controls:o}),o.valid&&this.props.submitHandler({title:a.value,description:n.value,author:i.value,rating:s.value})}},{key:"getRatingWidget",value:function(){return d.a.createElement("div",{className:y.a["rating-widget"]},!this.state.controls.rating.valid&&d.a.createElement("div",{className:_()(y.a["rating-status"],y.a.error)},h.a.ratingEmpty),a.i(b.g)(this.props.ratingStatus)&&d.a.createElement("div",{className:_()(y.a["rating-status"],y.a.success)},h.a.ratingSuccess),a.i(b.f)(this.props.ratingStatus)&&d.a.createElement("div",{className:_()(y.a["rating-status"],y.a.error)},h.a.ratingError),d.a.createElement(v.a,{sendRating:!0,id:"add-rating",rateClicked:this.setRating,starCount:A,selectedRating:this.state.controls.rating.value}))}},{key:"getTitleBox",value:function(){var e=this.state.controls.title;return d.a.createElement(g.a,{value:e.value,type:"text",onChangeHandler:this.titleChangeHandler,placeholder:h.a.reviewTitlePlaceholder,label:h.a.reviewTitle,valid:e.valid,errorMessage:e.message})}},{key:"getDescriptionBox",value:function(){var e=this.state.controls.description;return d.a.createElement(g.a,{onBlurComp:this.handleAutoTitleCall,value:e.value,type:"textarea",onChangeHandler:this.descriptionChangeHandler,placeholder:h.a.reviewDescPlaceholder,label:h.a.reviewDescription,valid:e.valid,selectedRating:this.state.controls.rating.value,errorMessage:e.message})}},{key:"getAuthorBox",value:function(){return d.a.createElement(g.a,{value:this.state.controls.author.value,type:"text",onChangeHandler:this.authorChangeHandler,placeholder:h.a.reviewAuthorPlaceholder,label:h.a.reviewerName})}},{key:"render",value:function(){var e=this.props.hasAuthorName;return d.a.createElement("div",{className:y.a["rating-review-card"]},d.a.createElement("div",{className:y.a["rating-card"]},d.a.createElement("div",{className:y.a.caption},d.a.createElement(m.b,{strKey:"ratingCaption"})),this.getRatingWidget()),d.a.createElement("hr",{className:y.a["h-border"]}),d.a.createElement("div",{className:y.a["review-card"]},d.a.createElement("div",{className:y.a.caption},d.a.createElement(m.b,{strKey:"reviewCaption"})),d.a.createElement("div",{className:y.a["review-content"]},this.getDescriptionBox(),d.a.createElement("hr",{className:y.a["h-border"]}),this.getTitleBox(),!e&&d.a.createElement("div",null,d.a.createElement("hr",{className:y.a["h-border"]}),this.getAuthorBox()))),d.a.createElement("button",{className:y.a["submit-btn"],onClick:this.submitHandler},h.a.submit))}}]),t}(u.Component),l=function(){var e=this;this.handleAutoTitleCall=function(t,r){e.props.fetchProductReviewData(t,r).then(function(t){var r=a.i(P.a)(t,["data","reviewTitle"]);e.setState({controls:j({},e.state.controls,{title:{valid:!0,value:r}})})})}},c),T={fetchProductReviewData:C.d};t.a=a.i(p.connect)("",T)(N)},"./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.css":function(e,t){e.exports={"review-side-bar":"_1ZCgAu",header:"_3SyFhG",instructions:"_1gZBWY",item:"_13cTJo",question:"_1RrlUn",answer:"_20QwAZ",link:"_1vqsw_"}},"./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.js":function(e,t,a){"use strict";var r=a("./node_modules/react/react.js"),n=a.n(r),i=a("./components/StringWidget/StringWidget.js"),s=a("./strings.json"),o=a.n(s),c=a("./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.css"),l=a.n(c),u=function(e){var t=[{questionKey:"reviewSidebarQuestion_1",answerKey:"reviewSidebarAnswer_1"},{questionKey:"reviewSidebarQuestion_2",answerKey:"reviewSidebarAnswer_2"},{questionKey:"reviewSidebarQuestion_3",answerKey:"reviewSidebarAnswer_3",linkTextKey:"reviewSidebarLinkText_3",link:"/helpcentre"}];return n.a.createElement("div",{className:l.a["review-side-bar"]},n.a.createElement("div",{className:l.a.header},n.a.createElement(i.b,{strKey:"reviewSidebarHeading"})),n.a.createElement("div",{className:l.a.instructions},t.map(function(e,t){return n.a.createElement("div",{className:l.a.item,key:t},n.a.createElement("div",{className:l.a.question},n.a.createElement(i.b,{strKey:e.questionKey})),n.a.createElement("div",{className:l.a.answer},n.a.createElement(i.b,{strKey:e.answerKey}),e.linkTextKey&&n.a.createElement("a",{className:l.a.link,href:e.link,title:o.a[e.linkTextKey]},n.a.createElement(i.b,{strKey:e.linkTextKey}))))})))};t.a=u},"./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.css":function(e,t){e.exports={"text-box":"_32o8JY",error:"_2o5VpG",label:"_1AyhZ5","error-text":"_1aV0fV",control:"_16nh-W",focused:"ofBQLv","description-box":"_2onsaO","move-right":"_3bf835"}},"./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.js":function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=a("./node_modules/lodash/pick.js"),c=a.n(o),l=a("./node_modules/react/react.js"),u=a.n(l),d=a("./node_modules/classnames/index.js"),p=a.n(d),v=a("./utils/shallowEqual.js"),g=a("./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.css"),m=a.n(g),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),w=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:e.value,valid:!0,errorMessage:""},a.onChangeHandler=a.onChangeHandler.bind(a),a.onFocus=a.onFocus.bind(a),a.onBlur=a.onBlur.bind(a),a}return s(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=["value","valid","errorMessage"],r=c()(e,t);a.i(v.a)(r,c()(this.props,t))||this.setState(r)}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){var e=this.state.value;this.setCurrentFieldState({value:e,focused:!1}),"textarea"===this.props.type&&this.props.onBlurComp(this.props.selectedRating,e)}},{key:"setCurrentFieldState",value:function(e){if(this.props.onChangeHandler){var t=this.props.onChangeHandler(e.value);this.setState(f({},e,t))}else this.setState(f({},e))}},{key:"onChangeHandler",value:function(e){this.setCurrentFieldState({value:e.target.value})}},{key:"getTextElement",value:function(){var e={onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChangeHandler,value:this.state.value,placeholder:this.props.placeholder,className:m.a.control};switch(this.props.type){case"text":return u.a.createElement("input",e);case"textarea":return u.a.createElement("textarea",f({rows:"8"},e));default:return null}}},{key:"render",value:function(){var e,t=this.state,a=t.valid,n=t.focused;return u.a.createElement("div",{className:p()(m.a["text-box"],(e={},r(e,m.a.error,!a),r(e,m.a.focused,n),e))},!a&&u.a.createElement("div",{className:p()(m.a["move-right"],m.a["error-text"])},u.a.createElement("span",null,this.state.errorMessage)),u.a.createElement("div",{className:m.a.label},u.a.createElement("span",null,this.props.label)),this.getTextElement())}}]),t}(l.Component);w.defaultProps={value:"",validators:[],type:"text"},w.propTypes={value:l.PropTypes.string,type:l.PropTypes.string.isRequired,validators:l.PropTypes.array,label:l.PropTypes.string,placeholder:l.PropTypes.string,helpText:l.PropTypes.string,onChangeHandler:l.PropTypes.func,onBlurComp:l.PropTypes.func,selectedRating:l.PropTypes.number},t.a=w},"./pages/ReadReviewsPage/ReadReviewsPage.css":function(e,t){e.exports={"full-width-pagination":"_1vKM3Y","full-opacity":"_3BRC7L","no-opacity":"_1KVtzT","read-reviews-page-margin":"lDK8vn","read-reviews-content":"hFPo14","header-container":"_1vJnV0","page-title":"_1SJWAA","minimal-info":"_2WNU6h",line:"_3DCdKt","top-border":"_5PYJrC",ratingClicked:"_2xRHIi",showAll:"_1FVdAJ","left-panel":"_3n2LXv","image-container":"_1LAYGY",name:"_1SFrA2","rating-widget":"_2flroY","price-widget":"NWgUtU","rating-text":"_2FuBeO","right-pannel":"_2RmBZs","button-gray":"_2yST67","full-width":"_3wYu6I","tabs-container":"_2_xtR5","dropdown-and-certified":"FAWsKi","dropdown-container":"_1vl_HT",dropdown:"_1kL65M","dropdown-bar":"_3hcHXX",checkbox:"_3cPF7a","ratings-container":"UUOe7N",sentiments:"_19oIq_","aspect-rating":"UP6Cnc","text-class":"KlzRDz","positive-text":"_3MBycG","negative-text":"bZiMmh","min-height":"_3y6XNb","error-or-loader":"_15pqpV","error-container":"_3Xw3Jf","no-reviews":"FOr-VY"}},"./pages/ReadReviewsPage/ReadReviewsPage.js":function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return{rnrDetails:e.ratingsAndReviews,userState:e.userState}}function c(e){return a.i(m.bindActionCreators)({fetchReadReviewsPageData:B.d,fetchProductReviewsForPage:K.h,fetchProductAspectReviewsForPage:K.i,showModal:L.c,voteAction:K.g},e)}function l(e){return v.a.createElement("div",{className:W.a["read-reviews-page-margin"]},v.a.createElement($,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=a("./node_modules/lodash/omit.js"),d=a.n(u),p=a("./node_modules/react/react.js"),v=a.n(p),g=a("./node_modules/react-redux/es/index.js"),m=a("./node_modules/redux/es/index.js"),f=a("./node_modules/classnames/index.js"),h=a.n(f),w=a("./node_modules/fk-cp-perf-beacon/index.js"),y=a.n(w),b=a("./node_modules/react-router/es/index.js"),R=a("./utils/asyncStatusHelper.ts"),E=a("./components/RatingStarsUnit/index.js"),_=a("./components/RatingCountUnit/index.js"),P=a("./components/ReviewsSortUnit/index.js"),C=a("./components/ReviewsWidget/index.js"),j=a("./components/ProductRatingWidget/ProductRatingWidget.js"),x=a("./components/PriceWidget/index.js"),k=a("./utils/omnitureHelper.js"),S=a("./components/Title/Title.js"),A=a("./strings.json"),N=a.n(A),T=a("./utils/safeTraverse.ts"),O=a("./components/Common/Card/index.js"),D=a("./pages/ReadReviewsPage/ReadReviewsPage.css"),W=a.n(D),I=a("./components/Pagination/Pagination.js"),H=a("./components/Dropdown/Dropdown.js"),F=a("./components/Checkbox/index.js"),V=a("./utils/shallowEqual.js"),M=a("./pages/Checkout/CheckoutSection.js"),q=a("./components/Error/Error.js"),B=a("./actions/readReviewsPageActions.js"),U=a("./components/StringWidget/StringWidget.js"),K=a("./actions/productReviewActions.js"),L=a("./actions/modalActions.js"),Z=a("./utils/FDPHelper.js"),X=a("./utils/stringUtils.ts"),z=a("./utils/getImageUrl.js"),J=a("./components/AspectRatingWidget/AspectRatingWidget.js"),Y=a("./utils/uniqueId.js"),G=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),Q=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.fetchReviewsData=function(){var e=r.props.location.query,t=e.pid,n=e.aid,i=e.sort,s=e.certifiedBuyer,o=r.props.location.query.page,c=a.i(T.a)(r.props,["rnrDetails","reviewsData"])||{},l=c.REVIEW_COUNT;o&&"1"!==o?r.props.fetchReadReviewsPageData(t,n,i,s,o,l):r.props.fetchReadReviewsPageData(t,n,i,s)},r.handleCertifiedChanged=function(e){r.setState({ratingClicked:!1});var t=r.props.location.query.sort,n=r.props.location.query.aid,i=a.i(T.a)(r.props,["rnrDetails","tabsData","tabs"]),s=a.i(T.a)(r.props,["rnrDetails","tabsData","sort"]);e.checked&&r.trackClick("PP_ParameterizedReviewclick_FilterReview_certified_buyer","PP_Review_FilterReview"),r.trackFDPFilter(e,!0),r.props.router.push({pathname:r.props.location.pathname,query:{pid:r.props.location.query.pid,certifiedBuyer:e.checked,sort:t||s[0].sortOrder,aid:n||i[0].tabId,page:"1"}})},r.handleSortChanged=function(e){r.setState({ratingClicked:!1});var t=r.props.location.query.certifiedBuyer,n=r.props.location.query.aid,i=a.i(T.a)(r.props,["rnrDetails","tabsData","tabs"]);r.trackClick("PP_ParameterizedReviewclick_FilterReview_"+e,"PP_Review_FilterReview"),r.trackFDPFilter(e,!1),r.props.router.push({pathname:r.props.location.pathname,query:{pid:r.props.location.query.pid,certifiedBuyer:t||!1,sort:e,aid:n||i[0].tabId,page:"1"}})},r.renderSentiments=function(){var e=a.i(T.a)(r.props,["rnrDetails","ratingsData"]),t=a.i(T.a)(e,["histogramFeedbackList"])||[];return v.a.createElement("div",{className:W.a.sentiments},v.a.createElement("div",{className:W.a["aspect-rating"]},v.a.createElement(J.a,{aspect:e})),t&&v.a.createElement("div",{className:W.a["text-class"]},t[0]&&v.a.createElement("div",null,v.a.createElement("span",{className:"POSITIVE"===t[0].feedbackPolarity?W.a["positive-text"]:W.a["negative-text"]},t[0].percent,"% "),v.a.createElement("span",null,t[0].text)),t[1]&&v.a.createElement("div",null,v.a.createElement("span",{className:"POSITIVE"===t[1].feedbackPolarity?W.a["positive-text"]:W.a["negative-text"]},t[1].percent,"% "),v.a.createElement("span",null,t[1].text))))},r.trackClick=function(e,t){k.a.trackLink({prop20:e,prop3:"Read Review",prop4:"Read Review",products:k.a.getValueFromPageContext("READREVIEWS","products")},t)},r.trackFDPFilter=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.i(T.a)(r.props,["rnrDetails","tabsData","tabs"])||[],i=n.find(function(e){return e.isSelected}),s=a.i(T.a)(r.props,["rnrDetails","tabsData","certifiedBuyer"]),o=a.i(T.a)(s,["value","isSelected"]),c=a.i(T.a)(r.props,["rnrDetails","tabsData","sort"])||[],l=c.find(function(e){return e.isSelected}),u=l.text,d={};t||(d=c.find(function(t){return t.sortOrder===e}),u=a.i(T.a)(d,["text"])),Z.a.trackEvent({iid:t?a.i(T.a)(s,["impressionId"]):a.i(T.a)(d,["impressionId"]),an:a.i(T.a)(i,["value"]),pid:a.i(T.a)(r.props,["location","query","pid"]),aid:a.i(T.a)(i,["tabId"]),cb:t?!o:o,sn:u,en:"AFC"})},r.renderNoReviewText=function(e,t){return v.a.createElement("div",{className:W.a["no-reviews"]},e?v.a.createElement(U.b,{strKey:"noAspectReviews",attributes:{aspectValue:t}}):v.a.createElement(U.b,{strKey:"noReviews"}))},r.renderError=function(){return v.a.createElement("div",null,v.a.createElement(O.a,{className:h()(W.a["read-reviews-content"],W.a["error-or-loader"])},v.a.createElement("div",{className:W.a["error-container"]},v.a.createElement(q.a,{errorAction:r.fetchReviewsData}))))},r.tabClicked=r.tabClicked.bind(r),r.onClick=r.onClick.bind(r),r.onRatingClicked=r.onRatingClicked.bind(r),r.state={ratingClicked:!1,rating:null},r}return s(t,e),G(t,[{key:"componentDidMount",value:function(){y()({prefix:"des",sampleRate:.2}),this.fetchReviewsData(),Z.a.setNavigationContext({pn:"Read Review",pt:"Read Review"})}},{key:"componentWillReceiveProps",value:function(e){var t=a.i(T.a)(e,["rnrDetails","tabsData","tabs"])||[],r=a.i(T.a)(e,["rnrDetails","reviewsData"])||{},n=e.location,i=n.query,s=r.REVIEW_COUNT,o=a.i(T.a)(r,["reviewsData","nonAspectReview"]),c=i.pid,l=i.aid,u=i.certifiedBuyer,d=i.sort,p=i.page,v=i.aspectName,g=t.map(function(e){return e.isSelected}).indexOf(!0),m=p||"1";if(a.i(V.a)(this.props.location.query,n.query)||(this.props.location.query.page!==p&&"1"!==m?o?this.props.fetchProductReviewsForPage(null,t[g],c,m,s,d,u):this.props.fetchProductAspectReviewsForPage(c,m,s,l,d,u):this.props.fetchReadReviewsPageData(c,l,d,u)),a.i(R.g)(r)&&!this.isOmniturePVSend){var f=a.i(T.a)(e,["rnrDetails","tabsData","tabs",g,"value"]),h=a.i(T.a)(e,["rnrDetails","reviewsData","reviewsData","pageContext"]),w={},y={},b=["event1"];w.pageType="Read Review",w.category=y.eVar1=a.i(T.a)(h,["analyticsData","category"]),w.superCategory=y.eVar16=y.prop16=a.i(T.a)(h,["analyticsData","superCategory"]),w.subCategory=y.eVar17=y.prop17=a.i(T.a)(h,["analyticsData","subCategory"]),w.vertical=y.eVar19=y.prop19=a.i(T.a)(h,["analyticsData","vertical"]),w.title=y.prop49=a.i(T.a)(h,["titles","title"]),y.prop22=f,v&&(y.prop20="PP_ParameterizedReviewClick_"+v),w.products=y.products=";"+a.i(T.a)(h,["productId"])+";;;;eVar22="+a.i(T.a)(h,["analyticsData","category"])+"| eVar19="+y.eVar19,w.pageName="Read Review: "+w.title;var E=Object.assign({},k.a.getBaseOmnitureFields({pageName:w.pageName,pageType:w.pageType,location:this.props.location,userState:this.props.userState}),y,{events:b.join(",")});k.a.setPageContext("READREVIEWS",w),k.a.trackOmniturePageView(E),Z.a.setNavigationContext({pn:w.pageName,pt:w.pageType}),Z.a.trackPageView(),this.isOmniturePVSend=!0}}},{key:"componentWillUnmount",value:function(){Z.a.flushEvents()}},{key:"onRatingClicked",value:function(e){this.setState({ratingClicked:!0,rating:e});var t=a.i(T.a)(this.props,["rnrDetails","reviewsData"]),r=t.REVIEW_COUNT,n=this.props.location,i=n.query,s=i.pid,o=i.sort,c=i.certifiedBuyer,l=a.i(T.a)(this.props,["rnrDetails","tabsData","tabs",0]),u=i.page,d=u||1;this.props.fetchProductReviewsForPage(e,l,s,d,r,o,c)}},{key:"onClick",value:function(e){if(!a.i(T.a)(this.props,["userState","isLoggedIn"]))return void this.props.showModal("login");this.props.router.push(e)}},{key:"tabClicked",value:function(e,t,r){if(this.setState({ratingClicked:!1}),t!==e||r){var n=a.i(T.a)(this.props,["rnrDetails","tabsData","tabs"]),i=this.props.location,s=i.query;this.trackClick("PP_ParameterizedReviewClick_Tabchange_"+n[e].value,"PP_Review_Tab change"),Z.a.trackEvent({iid:a.i(T.a)(n,[e,"impressionId"]),an:a.i(T.a)(n,[e,"value"]),pid:s.pid,aid:a.i(T.a)(n,[e,"tabId"]),en:"ATC"});var o=d()(s,["page"]);n[e].tabId&&(o.aid=n[e].tabId),this.props.router.push({pathname:this.props.location.pathname,query:o})}}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.userState,s=n.showModal,o=n.voteAction,c=a.i(T.a)(this.props,["rnrDetails","tabsData","tabs"])||[],l=c.map(function(e){return e.isSelected}).indexOf(!0),u=a.i(T.a)(this.props,["rnrDetails","tabsData","sort"])||[],d=u.find(function(e){return e.isSelected}),p=a.i(T.a)(this.props,["rnrDetails","tabsData","certifiedBuyer"]),g=a.i(T.a)(this.props,["rnrDetails","reviewsData"])||{},m=a.i(T.a)(this.props,["rnrDetails","ratingsData"])||{},f=a.i(T.a)(i,["isLoggedIn"]),w=m.totalReviewsCount,y=m.averageRating,k=m.totalRatingsCount,A=m.breakup,D=g.REVIEW_COUNT,V=g.totalCount,q=a.i(T.a)(this.props,["rnrDetails","reviewsData","reviewsData","productSummary","value"]),B=this.props.location.query.page||1,K=Math.ceil(V/D),L=a.i(T.a)(this.props.location,["query","aid"]),Z=void 0!==a.i(T.a)(g,["reviewsData","aspectReview"])&&L&&"overall"!==L.toLowerCase(),J=(Z?a.i(T.a)(g,["reviewsData","aspectReview"]):a.i(T.a)(g,["reviewsData","nonAspectReview"]))||[],G=a.i(T.a)(q,["title"]),Q=a.i(z.a)(a.i(T.a)(q,["imageUrl"]),246),$=a.i(T.a)(q,["rating"]),ee=a.i(T.a)(q,["pricing"]),te=a.i(R.h)(g);return a.i(R.f)(g)?this.renderError():v.a.createElement("div",null,te&&a.i(M.a)(),v.a.createElement(S.a,{title:q?a.i(X.a)(N.a.readReviewsPageTitle,{title:G}):N.a.homePageTitle}),v.a.createElement(O.a,{className:h()(W.a["read-reviews-content"],r({},W.a["min-height"],!a.i(R.g)(g)))},v.a.createElement("div",{className:h()("row")},v.a.createElement("div",{className:h()("col-3-12")},q&&v.a.createElement("div",null,v.a.createElement(b.Link,{to:a.i(T.a)(this.props,["rnrDetails","reviewsData","reviewsData","productSummary","action","url"])||""},v.a.createElement("div",{className:h()("row",W.a["left-panel"])},v.a.createElement("div",{className:W.a["image-container"]},v.a.createElement("img",{src:Q,className:W.a.image})),v.a.createElement("div",{className:W.a.name},v.a.createElement("span",null,G)),v.a.createElement("div",{className:W.a["rating-widget"]},v.a.createElement(j.a,{product:{value:{rating:$}},view:"minimal",showCount:!1}),v.a.createElement(U.b,{strKey:"ratingsTitleNew",attributes:{ratingsCount:Number(a.i(T.a)($,["count"])||0).toLocaleString()},className:W.a["rating-text"]})," ",v.a.createElement(U.b,{strKey:"ReviewsTitle",attributes:{reviewsCount:Number(a.i(T.a)($,["reviewCount"])||0).toLocaleString()},className:W.a["rating-text"]})),v.a.createElement("div",{className:W.a["price-widget"]},v.a.createElement(x.a,{pricing:ee,sellingPriceClass:W.a["selling-price"],oldPriceClass:W.a["old-price"],discountClass:W.a.discount,display:["selling-price","old-price","discount"]})))))),v.a.createElement("div",{className:h()(W.a["right-pannel"],"col-9-12")},v.a.createElement("div",{className:W.a["page-title"]},v.a.createElement(U.b,{strKey:"allReviews"})),v.a.createElement("div",{className:h()("row",W.a["tabs-container"])},c&&c.map(function(e,a){return v.a.createElement(P.a,{key:a,selected:a===l,sortOption:e.value,onClick:t.tabClicked.bind(t,a,l,e.firstLoad)})}),v.a.createElement("div",{className:W.a["dropdown-and-certified"]},u&&u.length&&v.a.createElement("div",{className:W.a["dropdown-container"]},v.a.createElement(H.a,{className:W.a.dropdown,barClassName:W.a["dropdown-bar"],name:"sort",onChange:this.handleSortChanged},u.map(function(e,t){return v.a.createElement("option",{key:t,value:e.sortOrder,selected:e.isSelected},e.text)}))),a.i(T.a)(p,["value","text"])&&v.a.createElement(F.a,{className:W.a.checkbox,label:p.value.text,onChange:this.handleCertifiedChanged,checked:p.value.isSelected}))),Z?this.renderSentiments():y&&v.a.createElement("div",{className:h()("row",W.a["ratings-container"])},v.a.createElement("div",{className:"col-3-12"},v.a.createElement(_.a,{ratingsCount:k,reviewsCount:w,avgRating:y})),v.a.createElement("div",{className:"col-9-12"},v.a.createElement(E.a,{onClick:this.onRatingClicked.bind(this),total:k,breakup:A}))),this.state.ratingClicked?v.a.createElement("div",{onClick:this.tabClicked.bind(this,0,0,!0),className:h()(W.a.ratingClicked,W.a.line)},v.a.createElement(U.b,{strKey:"ratingClicked",attributes:{rating:this.state.rating,activeSort:a.i(T.a)(d,["text"])}}),v.a.createElement("span",{className:h()(W.a.showAll)}," ",v.a.createElement(U.b,{strKey:"showAll"}))):null,v.a.createElement("div",{className:h()("row",W.a["full-width"],(e={},r(e,W.a["no-opacity"],!a.i(R.g)(g)),r(e,W.a["full-opacity"],a.i(R.g)(g)),e))},a.i(R.g)(g)&&0===J.length&&this.renderNoReviewText(Z,a.i(T.a)(c,[l,"value"])),a.i(R.g)(g)&&J.map(function(e,t){return v.a.createElement("div",{className:h()(W.a.line,r({},W.a["top-border"],0!==t)),key:a.i(Y.a)()},v.a.createElement(C.a,{className:h()(W.a["full-width"]),userReview:e.value,voteAction:o,showModal:s,isLoggedIn:f,isAspect:Z,aspect:a.i(T.a)(c,[l]),impressionId:g.impressionId}))}),K>1&&a.i(R.g)(g)&&!this.state.ratingClicked?v.a.createElement(I.a,{className:h()(W.a["full-width-pagination"]),currentPage:B,numOfPages:K,pathname:this.props.location.pathname,query:this.props.location.query}):null)))))}}]),t}(p.Component),$=a.i(g.connect)(o,c)(a.i(b.withRouter)(Q))},"./pages/ReviewsConfirmationPage/ReviewsConfirmationPage.css":function(e,t){e.exports={"reviews-confirmation-page-margin":"_3X6CC3","reviews-confirmation-content":"_1hhliZ","page-title":"owgplv","no-products-text":"_1Zk21-","product-card":"_3sw6Ub","product-image-container":"P3ETrn","product-title":"_2hU8nC","write-review-link":"_3cPzR5",clearfix:"_1XsgH5"}},"./pages/ReviewsConfirmationPage/ReviewsConfirmationPage.js":function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{reviewsConfirmationData:e.reviewsConfirmationPage,userState:e.userState}}function o(e){return a.i(p.bindActionCreators)({fetchReviewsConfirmationPageData:P.e,postProductRating:P.d,showModal:N.c},e)}function c(e){return u.a.createElement("div",{className:y.a["reviews-confirmation-page-margin"]},u.a.createElement(I,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=a("./node_modules/react/react.js"),u=a.n(l),d=a("./node_modules/react-redux/es/index.js"),p=a("./node_modules/redux/es/index.js"),v=a("./node_modules/classnames/index.js"),g=a.n(v),m=a("./node_modules/fk-cp-perf-beacon/index.js"),f=a.n(m),h=a("./node_modules/react-router/es/index.js"),w=a("./pages/ReviewsConfirmationPage/ReviewsConfirmationPage.css"),y=a.n(w),b=a("./utils/asyncStatusHelper.ts"),R=a("./components/Common/Card/index.js"),E=a("./components/FiveStarWidget/index.js"),_=a("./components/Title/Title.js"),P=a("./actions/reviewsConfirmationPageActions.js"),C=a("./utils/safeTraverse.ts"),j=a("./components/Common/Image/SimpleImage.js"),x=a("./utils/getImageUrl.js"),k=a("./components/StringWidget/index.js"),S=a("./components/Common/Loader/Loader.tsx"),A=a("./utils/omnitureHelper.js"),N=a("./actions/modalActions.js"),T=a("./strings.json"),O=a.n(T),D=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),W=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.rateClicked=a.rateClicked.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),D(t,[{key:"componentDidMount",value:function(){if(!a.i(C.a)(this.props,["userState","isLoggedIn"]))return void this.props.showModal("login");var e=a.i(C.a)(this.props,["location","query","source"]);this.props.fetchReviewsConfirmationPageData(0,5,e);var t=Object.assign({},A.a.getBaseOmnitureFields({pageName:"Review My Purchases",pageType:"Review My Purchases",location:this.props.location,userState:this.props.userState}),{events:"event1"});f()({prefix:"des",sampleRate:.2}),A.a.trackOmniturePageView(t)}},{key:"rateClicked",value:function(e,t){var r=[],n={},i=a.i(C.a)(this.props,["location","query","source"]);r.push("event34"),n.prop46="RMP",n.prop4="Review My Purchase",n.events=r.join(","),A.a.trackLink(n,"RMP Rating added"),this.props.postProductRating(e,t,i)}},{key:"onClickHandler",value:function(e){if(!a.i(C.a)(this.props,["userState","isLoggedIn"]))return void this.props.showModal("login");this.props.router.push(e)}},{key:"render",value:function(){var e=this,t=a.i(C.a)(this.props,["reviewsConfirmationData","product"]);return a.i(b.g)(this.props.reviewsConfirmationData)?u.a.createElement("div",null,u.a.createElement(_.a,{title:O.a.reviewsConfirmationPageTitle}),u.a.createElement(R.a,{className:y.a["reviews-confirmation-content"]},u.a.createElement("div",{className:g()(y.a["page-title"])},u.a.createElement(k.a,{strKey:"reviewYourPurchases"})),t&&t.length<1?u.a.createElement("div",{className:y.a["no-products-text"]},u.a.createElement(k.a,{strKey:"confirmationNoProducts"})):null,t&&t.map(function(t,r){return u.a.createElement("div",{key:r,className:y.a["product-card"]},u.a.createElement("div",{className:y.a["product-image-container"]},u.a.createElement(j.a,{src:a.i(x.a)(t.dynamicImageUrl,232,90),size:232})),u.a.createElement("div",{className:y.a["product-title"]},t.productTitle),u.a.createElement("div",{className:y.a.clearfix},u.a.createElement(E.a,{sendRating:!0,rateClicked:e.rateClicked.bind(e,t.pid),starCount:5,selectedRating:t.rating})),t.writeUrl?u.a.createElement("div",{onClick:e.onClickHandler.bind(e,t.writeUrl),className:y.a["write-review-link"]},u.a.createElement(k.a,{strKey:"writeAReviewLink"})):null)}))):u.a.createElement("div",{className:y.a["reviews-confirmation-content"]},u.a.createElement(R.a,null,u.a.createElement(S.a,null)))}}]),t}(l.Component),I=a.i(d.connect)(s,o)(a.i(h.withRouter)(W))}});